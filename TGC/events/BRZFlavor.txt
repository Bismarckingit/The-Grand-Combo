## Dom Pedro II
#Sends and event to JAN to decide which year is it
country_event = {
    id = 8001
    title = "DOMPEDROCORONATIONCHECK"
    desc = "DOMPEDROCORONATIONCHECK"

    allow_multiple_instances = no

    trigger = { tag = JAN 
                has_global_flag = majority_coup_ongoing    
                has_global_flag = majority_coup_ongoing2 }

    mean_time_to_happen = { days = 1 
                            modifier = { exists = yes factor 0.1 }
    }

    immediate = { clr_global_flag = majority_coup_ongoing }

    option = {
        name = "SENDEVENTTOBRAZIL"
        any_country = { limit = { tag = BRZ NOT = { year = 1840 } } country_event = 8002 }
        any_country = { limit = { tag = BRZ year = 1840 NOT = { year = 1844 } } country_event = 8004 }
    }
}

#Asks for the coup while pedro is too young
country_event = {
    id = 8002
    title = "EVTNAME8002"
    desc = "EVTDESC8002"
    picture = "young_dom_pedro"

    trigger = { tag = BRZ ai = yes NOT = { year = 1840 } } #This is normally a triggered event, but it will trigger for the AI once so it has a chance to pick it

    mean_time_to_happen = { years = 4 }

    fire_only_once = yes

    option = {
        name = "EVTOPTA8002"
        country_event = { id = 8003 days = 30 }
        ai_chance = { factor = 20 }
    }

     option = {
        name = "EVTOPTB8002"
        clr_global_flag = majority_coup_ongoing2
        ai_chance = { factor = 80 }
    }
}

#Dom Pedro II coronation pre 14yo
country_event = {
    id = 8003
    title = "EVTNAME8003"
    desc = "EVTDESC8003"
    picture = "dom_pedro_coronation_child"

    is_triggered_only = yes

    # Long live!
    option = {
        name = "EVTOPTA8003"
        prestige = 5
        plurality = 1
        any_pop = { militancy = -1 consciousness = 1 }
        add_country_flag = pedro_ii_crowned
        add_country_flag = child_emperor

        remove_country_modifier = national_confusion
        remove_country_modifier = expert_diplomat
        remove_country_modifier = successful_industrialist
        remove_country_modifier = ivory_tower_intellectual
        remove_country_modifier = man_of_the_people
        remove_country_modifier = landed_gentleman
        remove_country_modifier = military_man
        remove_country_modifier = lord_admiral
        remove_country_modifier = raving_loon
        remove_country_modifier = luddite
        remove_country_modifier = great_statesman
        remove_country_modifier = backroom_boy
        remove_country_modifier = great_reformer
        remove_country_modifier = gauche_buffoon
        remove_country_modifier = administrative_genius
        remove_country_modifier = visionary_thinker
        remove_country_modifier = competent_placeholder
        remove_country_modifier = imperious_autocrat
        remove_country_modifier = prince_of_terror
        remove_country_modifier = efficient_sociopath
        remove_country_modifier = pig_headed_isolationist
        remove_country_modifier = ambitious_union_boss
        remove_country_modifier = dour_economist
        remove_country_modifier = has_political_leader
    }
}

#Asks for the coup while as historical
country_event = {
    id = 8004
    title = "EVTNAME8002"
    desc = "EVTDESC8004"
    picture = "teen_dom_pedro"

    trigger = { tag = BRZ 
                has_country_modifier = regency_modifier
                NOT = { has_country_flag = pedro_ii_crowned }
                year = 1840
    }

    mean_time_to_happen = { days = 1 }

    fire_only_once = yes

    option = {
        name = "EVTOPTA8004" 
        clr_global_flag = majority_coup_ongoing2
        ai_chance = { factor = 20 }
    }

     option = {
        name = "EVTOPTB8004"
        country_event = { id = 8005 days = 30 }
        ai_chance = { factor = 80 }
    }
}

#Dom Pedro II historical coronation
country_event = {
    id = 8005
    title = "EVTNAME8003"
    desc = "EVTDESC8005"
    picture = "dom_pedro_coronation_historical"

    is_triggered_only = yes

    # Long live!
    option = {
        name = "EVTOPTA8003"

        prestige = 10
        plurality = 3
        any_pop = { militancy = -1 consciousness = 1 }
        remove_country_modifier = regency_modifier
        add_country_flag = pedro_ii_crowned
        add_country_modifier = { name = dom_pedro_ii duration = -1 }

        remove_country_modifier = national_confusion
        remove_country_modifier = expert_diplomat
        remove_country_modifier = successful_industrialist
        remove_country_modifier = ivory_tower_intellectual
        remove_country_modifier = man_of_the_people
        remove_country_modifier = landed_gentleman
        remove_country_modifier = military_man
        remove_country_modifier = lord_admiral
        remove_country_modifier = raving_loon
        remove_country_modifier = luddite
        remove_country_modifier = great_statesman
        remove_country_modifier = backroom_boy
        remove_country_modifier = great_reformer
        remove_country_modifier = gauche_buffoon
        remove_country_modifier = administrative_genius
        remove_country_modifier = visionary_thinker
        remove_country_modifier = competent_placeholder
        remove_country_modifier = imperious_autocrat
        remove_country_modifier = prince_of_terror
        remove_country_modifier = efficient_sociopath
        remove_country_modifier = pig_headed_isolationist
        remove_country_modifier = ambitious_union_boss
        remove_country_modifier = dour_economist
        remove_country_modifier = has_political_leader
    }
}

#Dom Pedro II 18yo coronation
country_event = {
    id = 8006
    title = "EVTNAME8003"
    desc = "EVTDESC8006"
    picture = "dom_pedro_coronation_older"

    trigger = { tag = BRZ 
                has_country_modifier = regency_modifier
                year = 1844
    }

    mean_time_to_happen = { months = 1 }

    fire_only_once = yes

    # Long live!
    option = {
        name = "EVTOPTA8003"

        prestige = 15
        any_pop = { militancy = -3 consciousness = 1 }
        plurality = 6
        add_country_flag = pedro_ii_crowned
        remove_country_modifier = regency_modifier
        add_country_modifier = { name = dom_pedro_ii duration = -1 }

        ## Prime Ministers ##
        remove_country_modifier = national_confusion
        remove_country_modifier = expert_diplomat
        remove_country_modifier = successful_industrialist
        remove_country_modifier = ivory_tower_intellectual
        remove_country_modifier = man_of_the_people
        remove_country_modifier = landed_gentleman
        remove_country_modifier = military_man
        remove_country_modifier = lord_admiral
        remove_country_modifier = raving_loon
        remove_country_modifier = luddite
        remove_country_modifier = great_statesman
        remove_country_modifier = backroom_boy
        remove_country_modifier = great_reformer
        remove_country_modifier = gauche_buffoon
        remove_country_modifier = administrative_genius
        remove_country_modifier = visionary_thinker
        remove_country_modifier = competent_placeholder
        remove_country_modifier = imperious_autocrat
        remove_country_modifier = prince_of_terror
        remove_country_modifier = efficient_sociopath
        remove_country_modifier = pig_headed_isolationist
        remove_country_modifier = ambitious_union_boss
        remove_country_modifier = dour_economist
        remove_country_modifier = has_political_leader
    }
}

#Remove the regency at 14yo if he was crowned too young
country_event = {
    id = 8007
    title = "EVTNAME8007"
    desc = "EVTDESC8007"
    picture = "teen_dom_pedro"

    trigger = { tag = BRZ 
                has_country_modifier = regency_modifier
                year = 1840
    }

    mean_time_to_happen = { days = 10 }

    fire_only_once = yes

    option = {
        name = "EVTOPTA8003"
        any_pop = { militancy = -1 consciousness = 1 }
        plurality = 1
        remove_country_modifier = regency_modifier
        clr_global_flag = majority_coup_ongoing
        clr_global_flag = majority_coup_ongoing2
        add_country_modifier = { name = dom_pedro_ii duration = -1 }

        remove_country_modifier = national_confusion
        remove_country_modifier = expert_diplomat
        remove_country_modifier = successful_industrialist
        remove_country_modifier = ivory_tower_intellectual
        remove_country_modifier = man_of_the_people
        remove_country_modifier = landed_gentleman
        remove_country_modifier = military_man
        remove_country_modifier = lord_admiral
        remove_country_modifier = raving_loon
        remove_country_modifier = luddite
        remove_country_modifier = great_statesman
        remove_country_modifier = backroom_boy
        remove_country_modifier = great_reformer
        remove_country_modifier = gauche_buffoon
        remove_country_modifier = administrative_genius
        remove_country_modifier = visionary_thinker
        remove_country_modifier = competent_placeholder
        remove_country_modifier = imperious_autocrat
        remove_country_modifier = prince_of_terror
        remove_country_modifier = efficient_sociopath
        remove_country_modifier = pig_headed_isolationist
        remove_country_modifier = ambitious_union_boss
        remove_country_modifier = dour_economist
        remove_country_modifier = has_political_leader
    }
}

#Gives a small buff if the player picked child pedro but actually played well
country_event = {
    id = 8008
    title = "EVTNAME8008"
    desc = "EVTDESC8008"
    picture = "dom_pedro_ages"

    trigger = { NOT = { year = 1845 }
                has_country_flag = child_emperor
                NOT = { militancy = 2 }
    }

    fire_only_once = yes

    option = {
        name = "EVTOPTA8003"
        add_country_modifier = { name = "child_emperor" duration = -1 }
    }

}